{"ast":null,"code":"import _slicedToArray from\"/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import'./less/style.css';import List from'./components/main/List';import CardPage from'./components/card/CardPage';import Nav from'./components/nav/Navigation';import Options from'./components/nav/options';import SortNav from'./components/nav/SortNav';import StyleOptions from'./components/nav/StyleOptions';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSpinner,faExclamationCircle}from'@fortawesome/free-solid-svg-icons';import{connect}from'react-redux';import{setCards as _setCards,setFormats as _setFormats,setSets as _setSets}from\"./redux/actions/setActions\";import{Switch,Route}from\"react-router-dom\";function App(props){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),show=_React$useState2[0],updateShow=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),seconds=_React$useState4[0],setSeconds=_React$useState4[1];var _React$useState5=React.useState(60),_React$useState6=_slicedToArray(_React$useState5,2),pad=_React$useState6[0],setPad=_React$useState6[1];var _React$useState7=React.useState(\"load\"),_React$useState8=_slicedToArray(_React$useState7,2),loadCard=_React$useState8[0],setLoadCards=_React$useState8[1];var _React$useState9=React.useState(\"load\"),_React$useState10=_slicedToArray(_React$useState9,2),loadFormat=_React$useState10[0],setLoadFormat=_React$useState10[1];var _React$useState11=React.useState(\"load\"),_React$useState12=_slicedToArray(_React$useState11,2),loadSet=_React$useState12[0],setLoadSet=_React$useState12[1];var _React$useState13=React.useState(\"load\"),_React$useState14=_slicedToArray(_React$useState13,2),load=_React$useState14[0],setLoad=_React$useState14[1];React.useEffect(function(){localStorage.setItem('localStyle',JSON.stringify(props.style));if(load===\"load\"){fetch(\"https://swdestinydb.com/api/public/cards/\").then(function(response){return response.json();}).then(function(data){setLoadCards(\"loaded\");props.setCards(data);}).catch(function(){setLoadCards(\"error\");});fetch(\"https://swdestinydb.com/api/public/formats/\").then(function(response){return response.json();}).then(function(data){setLoadFormat(\"loaded\");props.setFormats(data);}).catch(function(){setLoadFormat(\"error\");});//\nfetch(\"https://swdestinydb.com/api/public/sets/\").then(function(response){return response.json();}).then(function(data){setLoadSet(\"loaded\");props.setSets(data);}).catch(function(){setLoadSet(\"error\");});}if(loadCard===\"loaded\"&&loadFormat===\"loaded\"&&loadSet===\"loaded\"){setLoad(\"loaded\");}else if(loadCard===\"error\"||loadFormat===\"error\"||loadSet===\"error\"){setLoad(\"error\");}var check=false;for(var p in props.sorted){if(props.sorted[p].toggle){check=true;}}updateShow(check);var interval=null;interval=setInterval(function(){setSeconds(function(seconds){return seconds+1;});},500);if(load===\"loaded\"){setPad(document.querySelector(\".sortNav\").getBoundingClientRect().height);document.documentElement.style.backgroundColor=props.style.body;}return function(){return clearInterval(interval);};},[props.style,props.sorted,seconds,loadCard,loadFormat,loadSet,load,props]);var appStyle={backgroundColor:props.style.body};var wrapStyle={color:props.style.bodyText,backgroundColor:props.style.body,paddingTop:show?\"\"+pad+\"px\":\"0\"};return React.createElement(\"div\",{className:\"App\",style:appStyle},load===\"loaded\"&&React.createElement(\"span\",null,React.createElement(Nav,null),\" \",React.createElement(SortNav,null),\" \",React.createElement(Options,null),\" \",React.createElement(StyleOptions,null),\" \",React.createElement(\"div\",{className:\"mainWrapper\",style:wrapStyle},React.createElement(Switch,null,React.createElement(Route,{path:\"/\",component:List}))),React.createElement(Route,{path:\"/:id\",component:CardPage})),load===\"load\"&&React.createElement(\"div\",{style:{height:\"100%\"}},React.createElement(FontAwesomeIcon,{icon:faSpinner,spin:true,size:\"lg\",style:{color:props.style.bodyText}})),load===\"error\"&&React.createElement(\"div\",{style:{height:\"100%\"}},React.createElement(FontAwesomeIcon,{icon:faExclamationCircle,spin:true,size:\"lg\",style:{color:props.style.bodyText}}),React.createElement(\"h1\",null,\"Error Loading Card API. Try again later\")));}var mapStateToProps=function mapStateToProps(state){return{style:state.style,sorted:state.sorted};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setCards:function setCards(crds){dispatch(_setCards(crds));},setFormats:function setFormats(fmts){dispatch(_setFormats(fmts));},setSets:function setSets(sts){dispatch(_setSets(sts));}};};export default connect(mapStateToProps,mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/src/App.js"],"names":["React","List","CardPage","Nav","Options","SortNav","StyleOptions","FontAwesomeIcon","faSpinner","faExclamationCircle","connect","setCards","setFormats","setSets","Switch","Route","App","props","useState","show","updateShow","seconds","setSeconds","pad","setPad","loadCard","setLoadCards","loadFormat","setLoadFormat","loadSet","setLoadSet","load","setLoad","useEffect","localStorage","setItem","JSON","stringify","style","fetch","then","response","json","data","catch","check","p","sorted","toggle","interval","setInterval","document","querySelector","getBoundingClientRect","height","documentElement","backgroundColor","body","clearInterval","appStyle","wrapStyle","color","bodyText","paddingTop","mapStateToProps","state","mapDispatchToProps","dispatch","crds","fmts","sts"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './less/style.css';\nimport List from './components/main/List';\nimport CardPage from './components/card/CardPage'\nimport Nav from './components/nav/Navigation';\nimport Options from './components/nav/options';\nimport SortNav from './components/nav/SortNav'\nimport StyleOptions from './components/nav/StyleOptions';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faSpinner, faExclamationCircle} from '@fortawesome/free-solid-svg-icons';\n\nimport {connect} from 'react-redux';\nimport {setCards, setFormats, setSets} from \"./redux/actions/setActions\";\n\nimport {\n    Switch,\n    Route\n} from \"react-router-dom\";\n\n\n\nfunction App(props) {\n\n    const [show, updateShow] = React.useState(false);\n    const [seconds, setSeconds] = React.useState(0);\n    const [pad, setPad] = React.useState(60);\n    const [loadCard, setLoadCards] = React.useState(\"load\");\n    const [loadFormat, setLoadFormat] = React.useState(\"load\");\n    const [loadSet, setLoadSet] = React.useState(\"load\");\n    const [load, setLoad] =React.useState(\"load\");\n\n\n    React.useEffect(() => {\n        localStorage.setItem('localStyle', JSON.stringify(props.style));\n        if(load===\"load\"){\n            fetch(\"https://swdestinydb.com/api/public/cards/\")\n                .then(response => {\n                    return response.json();\n                })\n                .then((data) => {\n                    setLoadCards(\"loaded\");\n                    props.setCards(data);\n                }).catch(function () {\n                setLoadCards(\"error\");\n            });\n            fetch(\"https://swdestinydb.com/api/public/formats/\")\n                .then(response => {\n                    return response.json();\n                })\n                .then((data) => {\n                    setLoadFormat(\"loaded\");\n                    props.setFormats(data);\n                }).catch(function () {\n                setLoadFormat(\"error\");\n            });\n            //\n            fetch(\"https://swdestinydb.com/api/public/sets/\")\n                .then(response => {\n                    return response.json();\n                })\n                .then((data) => {\n                    setLoadSet(\"loaded\");\n                    props.setSets(data);\n                }).catch(function () {\n                setLoadSet(\"error\");\n            });\n        }\n\n\n        if(loadCard===\"loaded\"&&loadFormat===\"loaded\"&&loadSet===\"loaded\"){\n            setLoad(\"loaded\")\n        }else if(loadCard===\"error\"||loadFormat===\"error\"||loadSet===\"error\"){\n            setLoad(\"error\");\n        }\n\n        let check = false;\n\n        for (let p in props.sorted) {\n            if (props.sorted[p].toggle) {\n                check = true;\n            }\n        }\n\n        updateShow(check);\n\n        let interval = null;\n\n        interval = setInterval(() => {\n            setSeconds(seconds => seconds + 1);\n        }, 500);\n\n        if(load===\"loaded\"){\n            setPad(document.querySelector(\".sortNav\").getBoundingClientRect().height);\n\n            document.documentElement.style.backgroundColor = props.style.body;\n        }\n\n\n        return () => clearInterval(interval);\n\n    }, [props.style, props.sorted, seconds, loadCard, loadFormat, loadSet, load, props]);\n\n    let appStyle = {\n        backgroundColor: props.style.body\n    };\n\n    let wrapStyle = {\n        color: props.style.bodyText,\n        backgroundColor: props.style.body,\n        paddingTop: (show ? \"\" + pad + \"px\" : \"0\")\n    };\n\n    return (\n\n        <div className=\"App\" style={appStyle}>\n            {load===\"loaded\"&&<span><Nav/> <SortNav/> <Options/> <StyleOptions/> <div className={\"mainWrapper\"} style={wrapStyle}><Switch><Route path=\"/\" component={List}/></Switch></div><Route path={\"/:id\"} component={CardPage}/></span>}\n            {load===\"load\"&&<div style={{height:\"100%\"}}><FontAwesomeIcon icon={faSpinner} spin size={\"lg\"} style={{color:props.style.bodyText}}/></div>}\n            {load===\"error\"&&<div style={{height:\"100%\"}}><FontAwesomeIcon icon={faExclamationCircle} spin size={\"lg\"} style={{color:props.style.bodyText}}/><h1>Error Loading Card API. Try again later</h1></div>}\n        </div>\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        style: state.style,\n        sorted: state.sorted\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setCards: (crds) => {\n            dispatch(setCards(crds))\n        },\n        setFormats: (fmts) => {\n            dispatch(setFormats(fmts))\n        },\n        setSets: (sts) => {\n            dispatch(setSets(sts))\n        },\n    }\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n"]},"metadata":{},"sourceType":"module"}