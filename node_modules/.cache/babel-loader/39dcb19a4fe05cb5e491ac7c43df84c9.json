{"ast":null,"code":"import _slicedToArray from \"/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/src/components/card/CardInfo.js\";\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner, faExclamationCircle, faHeart } from '@fortawesome/free-solid-svg-icons';\nimport Side from './Side';\n\nfunction CardInfo(props) {\n  const _React$useState = React.useState([{\n    format: \"trilogy\",\n    restricted: false,\n    balance: \"--\",\n    legal: false\n  }, {\n    format: \"standard\",\n    restricted: false,\n    balance: \"--\",\n    legal: false\n  }, {\n    format: \"infinite\",\n    restricted: false,\n    balance: \"--\",\n    legal: true\n  }]),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        rst = _React$useState2[0],\n        setRst = _React$useState2[1];\n\n  const _React$useState3 = React.useState({\n    rst: false,\n    load: true,\n    error: false\n  }),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        rend = _React$useState4[0],\n        rendElement = _React$useState4[1];\n\n  React.useEffect(() => {\n    const abortController = new AbortController();\n    const signal = abortController.signal;\n\n    function handleStatusChange(status) {\n      setRst(status);\n    }\n\n    fetch(\"https://swdestinydb.com/api/public/formats/\", {\n      signal: signal\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      let formats = [];\n      data.map(fm => {\n        let format = {\n          name: fm.name,\n          restricted: false,\n          balance: \"--\",\n          legal: false\n        };\n\n        if (props.code in fm.data.balance) {\n          format.balance = fm.data.balance[props.code];\n        }\n\n        if (fm.data.restricted.includes(props.code)) {\n          format.restricted = true;\n        }\n\n        if (fm.data.sets.includes(props.crd.set_code)) {\n          format.legal = true;\n        }\n\n        rendElement({\n          rst: true,\n          load: false,\n          error: false\n        });\n        return formats.push(format);\n      });\n      handleStatusChange(formats);\n    }).catch(() => rendElement({\n      rst: false,\n      load: false,\n      error: true\n    }));\n    return function cleanup() {\n      abortController.abort();\n    };\n  }, [props.code, props.crd.set_code]);\n  let formats = rst.map((fm, idx) => React.createElement(\"div\", {\n    key: idx,\n    className: \"format\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, fm.name), React.createElement(\"h5\", {\n    className: \"restrict\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, fm.restricted ? \"Restricted\" : null), React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, fm.balance), React.createElement(\"h6\", {\n    className: !fm.legal ? \"restrict\" : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, fm.legal ? \"Playable\" : \"Unplayable\")));\n  return React.createElement(\"div\", {\n    className: \"cardInfo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, props.crd.is_unique && \"â—† \", props.crd.name), props.crd.health && React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    icon: faHeart,\n    size: \"lg\",\n    style: {\n      color: \"red\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), \" \", props.crd.health), props.crd.cost && React.createElement(\"h2\", {\n    className: \"cost\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"icon icon-resource \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), \" \", props.crd.cost, \" \"), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, props.crd.points && \"Points:\", props.crd.points), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, props.crd.type_name), React.createElement(\"div\", {\n    className: \"subtypes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, props.crd.subtypes !== undefined && props.crd.subtypes.map((sb, idx) => React.createElement(\"h3\", {\n    key: idx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, sb.name, idx !== props.crd.subtypes.length - 1 && \"-\"))), React.createElement(\"div\", {\n    className: \"sides\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, props.crd.sides !== undefined && props.crd.sides.map((sd, idx) => React.createElement(Side, {\n    key: idx,\n    sd: sd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"formats\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, rend.rst && formats), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, rend.load && React.createElement(FontAwesomeIcon, {\n    icon: faSpinner,\n    spin: true,\n    size: \"lg\",\n    style: {\n      color: props.loadColor\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), rend.error && React.createElement(FontAwesomeIcon, {\n    icon: faExclamationCircle,\n    style: {\n      color: \"red\"\n    },\n    size: \"6x\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    className: \"errata\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, props.crd.has_errata && \"This card has an errata\"), props.crd.text !== null && React.createElement(\"p\", {\n    dangerouslySetInnerHTML: {\n      __html: props.crd.text.replace(\"[special]\", \"<span class='icon\" + \" icon-special '></span>\").replace(\"([special])\", \"(<span class='icon\" + \" icon-special '></span>)\").replace(\"([indirect])\", \"(<span class='icon\" + \" icon-indirect '></span>)\").replace(\"([melee])\", \"(<span class='icon\" + \" icon-melee '></span>)\").replace(\"([ranged])\", \"(<span class='icon\" + \" icon-ranged '></span>)\").replace(\"([discard])\", \"(<span class='icon\" + \" icon-discard '></span>)\").replace(\"([focus])\", \"(<span class='icon\" + \" icon-focus '></span>)\").replace(\"([disrupt])\", \"(<span class='icon\" + \" icon-disrupt '></span>)\").replace(\"([shield])\", \"(<span class='icon\" + \" icon-shield '></span>)\").replace(\"([resource])\", \"(<span class='icon\" + \" icon-resource '></span>)\").replace(\"([blank])\", \"(<span class='icon\" + \" icon-blank '></span>)\").replace(\"([ranged] or [melee])\", \"(<span class='icon\" + \" icon-ranged '></span> or <span class='icon\" + \" icon-melee '></span>)\").replace(\"([melee] or [ranged])\", \"(<span class='icon\" + \" icon-ranged '></span> or <span class='icon\" + \" icon-melee '></span>)\").replace(\"([ranged] or [melee])\", \"(<span class='icon\" + \" icon-ranged '></span> or <span class='icon\" + \" icon-melee '></span>)\").replace(\"([ranged], [melee] or [indirect])\", \"(<span class='icon\" + \" icon-ranged '></span>, <span class='icon\" + \" icon-melee '></span> or <span class='icon\" + \" icon-indirect '></span>)\").replace(\"([ranged], [melee], or [indirect])\", \"(<span class='icon\" + \" icon-ranged '></span>, <span class='icon\" + \" icon-melee '></span> or <span class='icon\" + \" icon-indirect '></span>)\").replace(\"[AW]\", \"<span class='icon\" + \" icon-set-AW'></span>\").replace(\"[WotF]\", \"<span class='icon\" + \" icon-set-WotF'></span>\").replace(\"[RIV]\", \"<span class='icon\" + \" icon-set-RIV'></span>\").replace(\"[SoR]\", \"<span class='icon\" + \" icon-set-SoR'></span>\").replace(\"[LEG]\", \"<span class='icon\" + \" icon-set-LEG'></span>\").replace(\"[EaW]\", \"<span class='icon\" + \" icon-set-EaW'></span>\").replace(\"[AtG]\", \"<span class='icon\" + \" icon-set-AtG'></span>\").replace(\"[CONV]\", \"<span class='icon\" + \" icon-set-CONV'></span>\").replace(\"[AoN]\", \"<span class='icon\" + \" icon-set-AoN'></span>\").replace(\"[SoH]\", \"<span class='icon\" + \" icon-set-SoH'></span>\")\n    },\n    className: \"effects\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }), React.createElement(\"i\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, props.crd.flavor !== null && props.crd.flavor.replace(\"<cite>\", \"-\").replace(\"</cite>\", \"\")), React.createElement(\"div\", {\n    className: \"bottom\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"affl \" + props.crd.affiliation_name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, props.crd.affiliation_name), React.createElement(\"div\", {\n    className: \"rr \" + props.crd.rarity_name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, props.crd.rarity_name), React.createElement(\"div\", {\n    className: \"color\",\n    style: {\n      backgroundColor: props.crd.faction_code,\n      color: props.crd.faction_code === 'blue' ? 'white' : 'black'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, props.crd.faction_code.toUpperCase()), React.createElement(\"div\", {\n    className: \"setStuff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"icon icon-set-\" + props.crd.set_code,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }), props.crd.set_name, \": \", props.crd.position))));\n}\n\nexport default CardInfo;","map":{"version":3,"sources":["/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/src/components/card/CardInfo.js"],"names":["React","FontAwesomeIcon","faSpinner","faExclamationCircle","faHeart","Side","CardInfo","props","useState","format","restricted","balance","legal","rst","setRst","load","error","rend","rendElement","useEffect","abortController","AbortController","signal","handleStatusChange","status","fetch","then","response","json","data","formats","map","fm","name","code","includes","sets","crd","set_code","push","catch","cleanup","abort","idx","is_unique","health","color","cost","points","type_name","subtypes","undefined","sb","length","sides","sd","loadColor","has_errata","text","__html","replace","flavor","affiliation_name","rarity_name","backgroundColor","faction_code","toUpperCase","set_name","position"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {faSpinner, faExclamationCircle, faHeart} from '@fortawesome/free-solid-svg-icons';\nimport Side from './Side';\n\n\nfunction CardInfo(props) {\n\n    const [rst, setRst] = React.useState([\n\n        {\n            format: \"trilogy\",\n            restricted: false,\n            balance: \"--\",\n            legal: false\n        },\n        {\n            format: \"standard\",\n            restricted: false,\n            balance: \"--\",\n            legal: false\n        },\n        {\n            format: \"infinite\",\n            restricted: false,\n            balance: \"--\",\n            legal: true\n        }\n    ]);\n\n    const [rend, rendElement] = React.useState({\n        rst: false,\n        load: true,\n        error: false\n    });\n\n\n    React.useEffect(() => {\n\n        const abortController = new AbortController();\n        const signal = abortController.signal;\n\n\n        function handleStatusChange(status) {\n            setRst(status);\n        }\n\n\n        fetch(\"https://swdestinydb.com/api/public/formats/\", {signal: signal})\n            .then(response => {\n                return response.json();\n            })\n            .then((data) => {\n                let formats = [];\n\n                data.map((fm) => {\n\n                    let format = {\n                        name: fm.name,\n                        restricted: false,\n                        balance: \"--\",\n                        legal: false\n                    };\n\n                    if (props.code in fm.data.balance) {\n                        format.balance = fm.data.balance[props.code];\n                    }\n\n                    if (fm.data.restricted.includes(props.code)) {\n                        format.restricted = true;\n                    }\n\n                    if (fm.data.sets.includes(props.crd.set_code)) {\n                        format.legal = true;\n                    }\n\n                    rendElement({rst: true, load: false, error: false});\n\n\n                    return formats.push(format);\n\n                });\n\n                handleStatusChange(formats);\n            }).catch(() => rendElement({rst: false, load: false, error: true}))\n\n\n        return function cleanup() {\n            abortController.abort();\n        };\n    }, [props.code, props.crd.set_code]);\n\n    let formats = rst.map((fm, idx) =>\n        <div key={idx} className={\"format\"}>\n            <h3>{fm.name}</h3>\n            <h5 className={\"restrict\"}>{fm.restricted ? \"Restricted\" : null}</h5>\n            <h3>{fm.balance}</h3>\n            <h6 className={!fm.legal ? \"restrict\" : null}>{fm.legal ? \"Playable\" : \"Unplayable\"}</h6>\n        </div>\n    );\n\n\n    return (\n        <div className={\"cardInfo\"}>\n            <h1>{props.crd.is_unique && \"â—† \"}{props.crd.name}</h1>\n            {props.crd.health &&\n            <h2><FontAwesomeIcon icon={faHeart} size={\"lg\"} style={{color: \"red\"}}/> {props.crd.health}</h2>}\n            {props.crd.cost &&\n            <h2 className={\"cost\"}><span className='icon icon-resource '></span> {props.crd.cost} </h2>}\n            <h2>{props.crd.points && \"Points:\"}{props.crd.points}</h2>\n            <h2>{props.crd.type_name}</h2>\n            <div className={\"subtypes\"}>{props.crd.subtypes !== undefined && props.crd.subtypes.map((sb, idx) =>\n                <h3 key={idx}>{sb.name}{idx !== (props.crd.subtypes.length - 1) && \"-\"}</h3>\n            )}</div>\n            <div className={\"sides\"}>{props.crd.sides !== undefined && props.crd.sides.map((sd, idx) =>\n                <Side key={idx} sd={sd}/>\n            )}</div>\n            <div className={\"formats\"}>\n                {rend.rst && formats}\n            </div>\n            <div>\n                {rend.load && <FontAwesomeIcon icon={faSpinner} spin size={\"lg\"} style={{color: props.loadColor}}/>}\n                {rend.error && <FontAwesomeIcon icon={faExclamationCircle} style={{color: \"red\"}} size={\"6x\"}/>}\n            </div>\n            <div className={\"text\"}>\n                <h3 className={\"errata\"}>{props.crd.has_errata && \"This card has an errata\"}</h3>\n                {props.crd.text !== null && <p dangerouslySetInnerHTML={{\n                    __html: props.crd.text.replace(\"[special]\", \"<span class='icon\" +\n                        \" icon-special '></span>\").replace(\"([special])\", \"(<span class='icon\" +\n                        \" icon-special '></span>)\").replace(\"([indirect])\", \"(<span class='icon\" +\n                        \" icon-indirect '></span>)\").replace(\"([melee])\", \"(<span class='icon\" +\n                        \" icon-melee '></span>)\").replace(\"([ranged])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span>)\").replace(\"([discard])\", \"(<span class='icon\" +\n                        \" icon-discard '></span>)\").replace(\"([focus])\", \"(<span class='icon\" +\n                        \" icon-focus '></span>)\").replace(\"([disrupt])\", \"(<span class='icon\" +\n                        \" icon-disrupt '></span>)\").replace(\"([shield])\", \"(<span class='icon\" +\n                        \" icon-shield '></span>)\").replace(\"([resource])\", \"(<span class='icon\" +\n                        \" icon-resource '></span>)\").replace(\"([blank])\", \"(<span class='icon\" +\n                        \" icon-blank '></span>)\").replace(\"([ranged] or [melee])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span> or <span class='icon\" +\n                        \" icon-melee '></span>)\").replace(\"([melee] or [ranged])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span> or <span class='icon\" +\n                        \" icon-melee '></span>)\").replace(\"([ranged] or [melee])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span> or <span class='icon\" +\n                        \" icon-melee '></span>)\").replace(\"([ranged], [melee] or [indirect])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span>, <span class='icon\" +\n                        \" icon-melee '></span> or <span class='icon\" +\n                        \" icon-indirect '></span>)\").replace(\"([ranged], [melee], or [indirect])\", \"(<span class='icon\" +\n                        \" icon-ranged '></span>, <span class='icon\" +\n                        \" icon-melee '></span> or <span class='icon\" +\n                        \" icon-indirect '></span>)\").replace(\"[AW]\", \"<span class='icon\" +\n                        \" icon-set-AW'></span>\").replace(\"[WotF]\", \"<span class='icon\" +\n                        \" icon-set-WotF'></span>\").replace(\"[RIV]\", \"<span class='icon\" +\n                        \" icon-set-RIV'></span>\").replace(\"[SoR]\", \"<span class='icon\" +\n                        \" icon-set-SoR'></span>\").replace(\"[LEG]\", \"<span class='icon\" +\n                        \" icon-set-LEG'></span>\").replace(\"[EaW]\", \"<span class='icon\" +\n                        \" icon-set-EaW'></span>\").replace(\"[AtG]\", \"<span class='icon\" +\n                        \" icon-set-AtG'></span>\").replace(\"[CONV]\", \"<span class='icon\" +\n                        \" icon-set-CONV'></span>\").replace(\"[AoN]\", \"<span class='icon\" +\n                        \" icon-set-AoN'></span>\").replace(\"[SoH]\", \"<span class='icon\" +\n                        \" icon-set-SoH'></span>\")\n                }} className={\"effects\"}></p>}\n\n                <i>{props.crd.flavor !== null && props.crd.flavor.replace(\"<cite>\", \"-\").replace(\"</cite>\", \"\")}</i>\n\n                <div className={\"bottom\"}>\n                    <div className={\"affl \" + props.crd.affiliation_name}>{props.crd.affiliation_name}</div>\n\n                    <div className={\"rr \" + props.crd.rarity_name}>{props.crd.rarity_name}</div>\n\n                    <div className={\"color\"} style={{\n                        backgroundColor: props.crd.faction_code,\n                        color: (props.crd.faction_code==='blue'?'white':'black')\n                    }}>\n                        {props.crd.faction_code.toUpperCase()}\n                    </div>\n                    <div className={\"setStuff\"}><span\n                        className={\"icon icon-set-\" + props.crd.set_code}></span>{props.crd.set_name}: {props.crd.position}\n                    </div>\n                </div>\n\n\n            </div>\n\n\n        </div>\n    )\n}\n\nexport default CardInfo"]},"metadata":{},"sourceType":"module"}