{"ast":null,"code":"import _slicedToArray from \"/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/src/components/card/CardPage.js\";\nimport React from 'react';\nimport { useHistory, useParams, Link } from \"react-router-dom\";\nimport Card from './Card';\nimport CardInfo from './CardInfo';\n\nfunction CardPage() {\n  const _React$useState = React.useState(\"\"),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        card = _React$useState2[0],\n        setCard = _React$useState2[1];\n\n  let _useParams = useParams(),\n      id = _useParams.id;\n\n  console.log(id);\n  React.useEffect(() => {\n    function handleStatusChange(status) {\n      setCard(status);\n    }\n\n    const unsubscribe = () => {\n      fetch(\"https://swdestinydb.com/api/public/cards/\").then(response => {\n        return response.json();\n      }).then(data => {\n        let cardMain = data.filter(crd => {\n          return id === crd.code;\n        });\n        handleStatusChange(cardMain[0]);\n      });\n    };\n\n    unsubscribe();\n    return () => unsubscribe();\n  }, [id]);\n  return React.createElement(Link, {\n    className: id ? \"cardPageWrapper\" : undefined,\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Card, {\n    name: card.name,\n    imagesrc: card.imagesrc,\n    code: card.code,\n    loadColor: \"white\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(CardInfo, {\n    crd: card,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }));\n}\n\nexport default CardPage;","map":{"version":3,"sources":["/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/src/components/card/CardPage.js"],"names":["React","useHistory","useParams","Link","Card","CardInfo","CardPage","useState","card","setCard","id","console","log","useEffect","handleStatusChange","status","unsubscribe","fetch","then","response","json","data","cardMain","filter","crd","code","undefined","name","imagesrc"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,EACIC,SADJ,EACeC,IADf,QAEO,kBAFP;AAGA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,SAASC,QAAT,GAAmB;AAAA,0BAEQN,KAAK,CAACO,QAAN,CAAe,EAAf,CAFR;AAAA;AAAA,QAERC,IAFQ;AAAA,QAEHC,OAFG;;AAAA,mBAIFP,SAAS,EAJP;AAAA,MAITQ,EAJS,cAITA,EAJS;;AAKfC,EAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AAGAV,EAAAA,KAAK,CAACa,SAAN,CAAgB,MAAI;AAGhB,aAASC,kBAAT,CAA4BC,MAA5B,EAAoC;AAChCN,MAAAA,OAAO,CAACM,MAAD,CAAP;AACH;;AAED,UAAMC,WAAW,GAAG,MAAI;AAGpBC,MAAAA,KAAK,CAAC,2CAAD,CAAL,CACKC,IADL,CACUC,QAAQ,IAAI;AACd,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,OAHL,EAIKF,IAJL,CAIWG,IAAD,IAAU;AAEZ,YAAIC,QAAQ,GAAGD,IAAI,CAACE,MAAL,CAAYC,GAAG,IAAE;AAC5B,iBAAOd,EAAE,KAAGc,GAAG,CAACC,IAAhB;AACH,SAFc,CAAf;AAIAX,QAAAA,kBAAkB,CAACQ,QAAQ,CAAC,CAAD,CAAT,CAAlB;AACH,OAXL;AAYH,KAfD;;AAiBAN,IAAAA,WAAW;AAGX,WAAO,MAAIA,WAAW,EAAtB;AACH,GA5BD,EA4BE,CAACN,EAAD,CA5BF;AA8BA,SACI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAEA,EAAE,GAAG,iBAAH,GAAuBgB,SAA1C;AAAqD,IAAA,EAAE,EAAE,GAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAO,IAAA,IAAI,EAAElB,IAAI,CAACmB,IAAlB;AAAwB,IAAA,QAAQ,EAAEnB,IAAI,CAACoB,QAAvC;AAAiD,IAAA,IAAI,EAAEpB,IAAI,CAACiB,IAA5D;AAAkE,IAAA,SAAS,EAAE,OAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEjB,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ;AAMH;;AAED,eAAeF,QAAf","sourcesContent":["import React from 'react';\nimport {useHistory,\n    useParams, Link\n} from \"react-router-dom\";\nimport Card from './Card';\nimport CardInfo from './CardInfo';\n\nfunction CardPage(){\n\n    const [card,setCard] = React.useState(\"\");\n\n    let { id } = useParams();\n    console.log(id);\n\n\n    React.useEffect(()=>{\n\n\n        function handleStatusChange(status) {\n            setCard(status)\n        }\n\n        const unsubscribe = ()=>{\n\n\n            fetch(\"https://swdestinydb.com/api/public/cards/\")\n                .then(response => {\n                    return response.json();\n                })\n                .then((data) => {\n\n                    let cardMain = data.filter(crd=>{\n                        return id===crd.code;\n                    });\n\n                    handleStatusChange(cardMain[0]);\n                })\n        };\n\n        unsubscribe();\n\n\n        return ()=>unsubscribe();\n    },[id]);\n\n    return (\n        <Link className={id ? \"cardPageWrapper\" : undefined} to={\"/\"}>\n            <Card  name={card.name} imagesrc={card.imagesrc} code={card.code} loadColor={\"white\"}/>\n            <CardInfo crd={card}/>\n        </Link>\n    )\n}\n\nexport default CardPage;"]},"metadata":{},"sourceType":"module"}