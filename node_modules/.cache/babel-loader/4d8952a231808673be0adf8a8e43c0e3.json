{"ast":null,"code":"import _slicedToArray from\"/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSpinner,faExclamationCircle,faCircle}from'@fortawesome/free-solid-svg-icons';import{connect}from\"react-redux\";function Card(props){var _React$useState=React.useState(\"loading\"),_React$useState2=_slicedToArray(_React$useState,2),load=_React$useState2[0],updateLoading=_React$useState2[1];var _React$useState3=React.useState({img:false,load:true,error:false}),_React$useState4=_slicedToArray(_React$useState3,2),rend=_React$useState4[0],rendElement=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),seconds=_React$useState6[0],setSeconds=_React$useState6[1];React.useEffect(function(){var interval=null;interval=setInterval(function(){setSeconds(function(seconds){return seconds+1;});if(load){if(props.imagesrc===null){rendElement({img:false,load:false,error:true});}else{rendElement({img:true,load:false,error:false});}}else{if(seconds>3){rendElement({img:false,load:false,error:true});}else{rendElement({img:false,load:true,error:false});}}},1000);return function(){return clearInterval(interval);};},[seconds,load,props.imagesrc]);var handleImageLoad=function handleImageLoad(){updateLoading(true);};var handleImageError=function handleImageError(){updateLoading(false);};var imgStyle={color:props.style.bodyText};return React.createElement(\"div\",{className:\"card\"},props.bod&&rend.error?React.createElement(\"h1\",{style:{color:props.style.bodyText}},props.name):null,React.createElement(\"div\",{className:\"cardWrapper\"},rend.img&&React.createElement(\"img\",{alt:props.name,onLoad:handleImageLoad,onError:handleImageError,src:props.imagesrc,style:imgStyle}),rend.load&&React.createElement(FontAwesomeIcon,{icon:faSpinner,spin:true,size:\"lg\",style:{color:props.loadColor}}),rend.error&&React.createElement(\"div\",{className:\"errorBox\"},React.createElement(\"h4\",{style:{color:props.bod?props.style.bodyText:'white'}},\"Error Loading Image\"),React.createElement(\"div\",{className:\"fa-layers fa-fw\"},React.createElement(FontAwesomeIcon,{style:{color:\"white\"},icon:faCircle,size:\"6x\"}),React.createElement(FontAwesomeIcon,{icon:faExclamationCircle,style:{color:\"red\"},size:\"6x\"})))));}var mapStateToProps=function mapStateToProps(state){return{style:state.style};};export default connect(mapStateToProps)(Card);","map":{"version":3,"sources":["/Users/LMJ62894/WebstormProjects/star-wars-destiny-database/src/components/card/Card.js"],"names":["React","FontAwesomeIcon","faSpinner","faExclamationCircle","faCircle","connect","Card","props","useState","load","updateLoading","img","error","rend","rendElement","seconds","setSeconds","useEffect","interval","setInterval","imagesrc","clearInterval","handleImageLoad","handleImageError","imgStyle","color","style","bodyText","bod","name","loadColor","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {faSpinner, faExclamationCircle, faCircle} from '@fortawesome/free-solid-svg-icons';\nimport {connect} from \"react-redux\";\nfunction Card(props) {\n\n    const [load, updateLoading] = React.useState(\"loading\");\n    const [rend, rendElement] = React.useState({\n        img:false,\n        load:true,\n        error:false\n    });\n    const [seconds, setSeconds] = React.useState(0);\n\n\n    React.useEffect(() => {\n        let interval = null;\n\n            interval = setInterval(() => {\n                setSeconds(seconds => seconds + 1);\n                if (load) {\n                    if(props.imagesrc===null){\n                        rendElement({\n                            img:false,\n                            load:false,\n                            error:true\n                        });\n                    }else{\n                        rendElement({\n                            img:true,\n                            load:false,\n                            error:false\n                        });\n                    }\n\n                } else {\n                    if(seconds>3){\n                        rendElement({\n                            img:false,\n                            load:false,\n                            error:true\n                        });\n                    }else{\n                        rendElement({\n                            img:false,\n                            load:true,\n                            error:false\n                        });\n                    }\n                }\n            }, 1000);\n\n        return () => clearInterval(interval);\n    }, [seconds, load, props.imagesrc]);\n\n    const handleImageLoad = () => {\n        updateLoading(true)\n    };\n\n    const handleImageError = () => {\n        updateLoading(false)\n    };\n\n    let imgStyle = {\n        color:props.style.bodyText\n    }\n\n    return (\n        <div className={\"card\"}>\n            {props.bod&&rend.error?<h1 style={{color:props.style.bodyText}}>{props.name}</h1>:null}\n            <div className={\"cardWrapper\"}>\n                {rend.img && <img alt={props.name} onLoad={handleImageLoad} onError={handleImageError} src={props.imagesrc} style={imgStyle}/>}\n\n                    {rend.load&&<FontAwesomeIcon icon={faSpinner} spin size={\"lg\"} style={{color:props.loadColor}}/>}\n                    {rend.error&&<div className={\"errorBox\"}><h4 style={{color:(props.bod?props.style.bodyText:'white')}}>Error Loading Image</h4><div className=\"fa-layers fa-fw\"><FontAwesomeIcon style={{color:\"white\"}} icon={faCircle} size={\"6x\"} /><FontAwesomeIcon icon={faExclamationCircle} style={{color:\"red\"}} size={\"6x\"}/></div></div>}\n\n            </div>\n\n\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        style:state.style\n    }\n};\n\nexport default connect(mapStateToProps)(Card);\n"]},"metadata":{},"sourceType":"module"}